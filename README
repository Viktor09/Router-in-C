Ne creeam structurire necesare, cea de rutare si cea de arp_dynamic si inca una
pentru a putea pune elementele in coada in cazul arp, pentru a nu pierde bufferul si lenul.

Am facut o functie de comparare pentru a gasi mai eficient prefixul cu cea mai buna masca pentru ip-ul
respectiv.

Allocam tabelel, facem qsortul cu functia de comparare descrisa mai sus apoi o sa avem
doua cazuri unul care se ocupa de pachetele IPV4 si altul de ARP.

In cel de IP verificam mai intai daca adresa ip destinata este cea a ip-ului interfetei curente
daca da, atunci o sa tratam pachetele ICMP cu flagurile setate corespunzator si interschimbarea adreselor
mac si ip si trimiterea pachetului mai departe.

Mai departe verificam checksumul daca este corect sau nu, avand grija la ordinea in care vine adica ntohs
si mergem pe 2 cazuri cand e gresit ii dam drop, cand nu verificam ttl-ul.

La ttl daca valoarea sa ajunge la 0 sau 1 avem cazul de ICMP in care tb sa trimitem un nou buffer, asa cum 
e precizat in cerinta. Eu mi-am creat un nou buffer in care pune ETH-nou (adica am interschimbat 
adresele mac si am adaugat ether-typeul cu codul de IPV4), IP-nou(adresele ip interschimbate, ttl schimbat
, protocolul pe 1, tot_len-ul are marimea len_buf nou - eth plus restul flagurilor si checksumul)
Adaugam intr-un nou buffer si tinem cu un offset care e lenul actual si locul unde adaugam mai departe
campurile. ICMP-ul setam flagurile cu codurile aferente, plus ultimii 64 de biti si trimitem mai departe noul buff.

Gasim best-routeul dupa sortare, dupa cea mai mare masca se opreste, apoi daca nu se gaseste o sa trimitem un pachet ICMP,
la fel ca la ttl, numai ca difera type-ul cu codul 3.

Facem checksum-ul corect dupa, ajungem la pasii in care gasim legatura in tabela dinamica arp si in cazul in care gasim
updata-am adresele mac cu cele cerute si trimitem pachetul, daca nu facem un arp request.

Aici o sa ne folosim de un de o structura cu 2 pointeri pt a nu pierde referintele len-ului si al bufferului. 
Copiam informatiile despre buf le dam enqueue si apoi pregatim un arp request in care o sa trimitem ETH+ARP,
setam adresa de dhost broadcast si cea de shost a interfetei ip ului gasit fara adresa mac. Umplem fieldurile de arp,
mutam informatia in noul buffer si dam send.

In ARP avem doua cazuri unul in care op_code-ul e 1 si unul 2.
In 1 vrem sa trimitem catre reply si sa interschimbam adresele.
In 2 adaugam in arp-dynamic perechea ip-mac si verificam daca acum exista,
daca nu o adaugam. Apoi verificam ce pachete se afla in asteptare in coada si se
cauta in tabela de rutare unde pot fi trimise, daca nu exista dam drop, daca da reluam pasul de la IPV4 si trimitem pachetul.
